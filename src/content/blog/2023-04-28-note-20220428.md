---
title: note-20220428
description: æ—¥è®°
pubDate: 2023-04-28T15:19:46.123Z
updatedDate: 2023-04-28T15:19:46.124Z
preview: /image/rust-logo-blk.svg
draft: false
tags: []
categories: []
---

# note-20220428

## ruståœ¨ifè¯­å¥ä¸­è¿”å›å€¼

ä»Šå¤©å°è¯•äº†ä¸€ä¸‹ç”¨ruståˆ·leetcode, ä½“éªŒå¾ˆå·®ï¼Œä¸»è¦æ˜¯leetcodeä¸æ”¯æŒrustçš„æ™ºèƒ½è¡¥å…¨ï¼Œå†™èµ·æ¥å¾ˆç—›è‹¦ï¼Œç”¨vscodeå’Œleetcodeæ’ä»¶æ¥å†™ä¹Ÿä¸è¡Œï¼Œå› ä¸ºrust-analyzeråªå¯¹cargoé¡¹ç›®ç”Ÿæ•ˆï¼Œæ‰€ä»¥æˆ‘çš„å•ç‹¬å»ºä¸€ä¸ªé¡¹ç›®æ¥å†™ï¼Œç„¶åå†™å®Œå†å¤åˆ¶å›å»è¿›è¡Œæµ‹è¯•(æ¯•ç«Ÿä¸å¯èƒ½è‡ªå·±å†™ç®—æ³•é¢˜çš„æµ‹è¯•ç”¨ä¾‹)ã€‚
åˆ·é¢˜ç›®çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜
~~~rust
fn two_sum(nums: Vec<i32>, target: i32) -> Vec<i32> {
    for (i, n) in nums.iter().enumerate() {
        for (j, m) in nums.iter().enumerate() {
           if m+n==target {
               vec![i as i32,j as i32]
           }
        }
    }
    vec![]
}
~~~
ä¸Šé¢çš„ä»£ç æŠ¥é”™:
~~~bash
Line 6, Char 20: mismatched types (solution.rs)
Line 6, Char 20: mismatched types (solution.rs)
  |
5 | /                if m+n==target && i!=j {
6 | |                    vec![i as i32,j as i32]
  | |                    ^^^^^^^^^^^^^^^^^^^^^^^ expected `()`, found struct `Vec`
7 | |                }
  | |________________- expected this to be `()`
  |
  = note: expected unit type `()`
                found struct `Vec<i32>`
  = note: this error originates in the macro `vec` (in Nightly builds, run with -Z macro-backtrace for more info)
help: consider using a semicolon here
  |
7 |                };
  |                 +
For more information about this error, try `rustc --explain E0308`.
~~~

ä¸Šé¢çš„æŠ¥é”™è¯´expectedç±»å‹æ˜¯`()`,å¯æ˜¯æˆ‘ä»¬å‡½æ•°è¿”å›ç±»å‹çš„å£°æ˜åˆ†æ˜æ˜¯`Vec<i32>`å•Šï¼Œæ€ä¹ˆä¼šç±»å‹å†²çªå‘¢ï¼Ÿ

ä¸€è„¸æ‡µé€¼ingğŸ˜…

ä¸Šç½‘æœç´¢åæ‰¾åˆ°äº†è¿™ä¸ªè¿æ¥[rustccè®ºå›](https://rustcc.cn/article?id=d20aeaa9-cd44-480a-8cd2-1a589f403778)ã€‚

æŒ‰ç…§rustçš„è®¾è®¡ï¼Œåˆ†æ”¯ç»“æ„ï¼Œåƒ`match`å’Œ`if`è¿™ç§è¦æ±‚æ¯éƒ¨åˆ†çš„è¿”å›åªæ˜¯ç›¸åŒç±»å‹ã€‚

> ifè¡¨è¾¾å¼æ˜¯ç¨‹åºæ§åˆ¶ä¸­çš„ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯ã€‚ifè¡¨è¾¾å¼çš„å¥æ³•æ˜¯ä¸€ä¸ªæ¡ä»¶æ“ä½œæ•°ï¼ˆoperandï¼‰åç´§è·Ÿä¸€ä¸ªå—ï¼Œå†åé¢æ˜¯ä»»æ„æ•°é‡çš„ else ifæ¡ä»¶è¡¨è¾¾å¼å’Œå—ï¼Œæœ€åæ˜¯ä¸€ä¸ªå¯é€‰çš„å°¾éƒ¨ elseå—ã€‚ æ¡ä»¶æ“ä½œæ•°çš„ç±»å‹å¿…é¡»æ˜¯å¸ƒå°”å‹ã€‚å¦‚æœæ¡ä»¶æ“ä½œæ•°çš„æ±‚å€¼ç»“æœä¸º trueï¼Œåˆ™æ‰§è¡Œç´§è·Ÿçš„å—ï¼Œå¹¶è·³è¿‡åç»­çš„ else ifå—æˆ– elseå—ã€‚ å¦‚æœæ¡ä»¶æ“ä½œæ•°çš„æ±‚å€¼ç»“æœä¸º falseï¼Œåˆ™è·³è¿‡ç´§è·Ÿçš„å—ï¼Œå¹¶æŒ‰é¡ºåºæ±‚å€¼åç»­çš„ else ifæ¡ä»¶è¡¨è¾¾å¼ã€‚ å¦‚æœæ‰€æœ‰ ifæ¡ä»¶è¡¨è¾¾å¼å’Œ else ifæ¡ä»¶è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœå‡ä¸º falseï¼Œåˆ™æ‰§è¡Œ elseå—ã€‚ ifè¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœå°±æ˜¯æ‰€æ‰§è¡Œçš„å—çš„è¿”å›å€¼ï¼Œæˆ–è€…å¦‚æœæ²¡æœ‰å—è¢«æ±‚å€¼é‚£ ifè¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœå°±æ˜¯ ()ã€‚ ifè¡¨è¾¾å¼åœ¨æ‰€æœ‰æƒ…å†µä¸‹çš„ç±»å‹å¿…é¡»ä¸€è‡´ã€‚

ä¸Šé¢çš„æ˜¯[reference](https://rustwiki.org/zh-CN/reference/expressions/if-expr.html)é‡Œå¯¹ifçš„è§£é‡Š,è¿™é‡Œæ²¡æƒ³åˆ°çš„æ˜¯(æˆ–è€…è¯´æˆ‘å¿˜äº†),`if`æ˜¯è¡¨è¾¾å¼ï¼Œæ˜¯è¡¨è¾¾å¼é‚£ä¹ˆå°±ä¼šäº§ç”Ÿå€¼ã€‚æˆ‘ä»¬ç»å¸¸è°ƒä¾ƒ`rust`æ˜¯ç¼–è¯‘å™¨æ•™ä½ å†™ä»£ç ï¼Œ`rust`çš„çº¦æŸè¿˜æ˜¯éå¸¸ä¸¥æ ¼çš„ã€‚ä¸ºäº†é˜²æ­¢ç”¨æˆ·éšæ„ç ´åæ§åˆ¶æµæˆ–äº§ç”Ÿæœªå¤„ç†çš„æƒ…å†µï¼Œåœ¨æˆ‘ä¸Šé¢å†™çš„ä»£ç é‡Œï¼Œè™½ç„¶æ²¡æœ‰`else`å—ä½†æ˜¯ç¼–è¯‘å™¨è¿˜æ˜¯å½“ä»–å­˜åœ¨äº†(ä¸çŸ¥é“ç¼–è¯‘åçš„äºŒè¿›åˆ¶é‡Œæœ‰æ²¡æœ‰ï¼Œæˆ‘æ˜¯èœé¸¡)ï¼Œé‚£ä¹ˆelseå—ä¼šäº§ç”Ÿä¸€ä¸ª`()`å€¼ï¼Œè€Œæˆ‘åœ¨`if`è¯­å¥é‡Œè¿”å›çš„æ˜¯`Vec`,è¿™æ—¶å€™ç±»å‹å†²çªäº†,æ‰€ä»¥æŠ¥`E0308`é”™è¯¯ã€‚
è§£å†³æ–¹æ³•å°±æ˜¯åœ¨è¿”å›çš„å€¼å‰é¢åŠ `return`æ˜¾ç¤ºè¿”å›ï¼Œæˆ–æŠŠ`else`å—å†™å‡ºæ¥ã€‚

~~~rust
//è¿™é‡Œåªä¿ç•™äº†éœ€è¦çš„ifè¯­å¥éƒ¨åˆ†

//ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ
if m+n==target {
    return vec![i as i32,j as i32];
}

//ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ,è¿™é‡Œåªæ˜¯è®©ç¼–è¯‘å™¨ä¸æŠ¥é”™ï¼Œå¯¹äºé¢˜ç›®çš„é€»è¾‘æ¥è®²ï¼Œè¿™æ˜¯é”™è¯¯çš„
if m+n == target{
    vec![i as i32,j as i32]
}else{
    vec![]
}

~~~